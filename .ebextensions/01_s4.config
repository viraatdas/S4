option_settings:
  aws:elasticbeanstalk:application:environment:
    S4_S3_BUCKET: s4-storage-prod-1742798167
    S4_S3_REGION: us-east-1
    OPENAI_API_KEY: YOUR_OPENAI_API_KEY
    S4_DISABLE_API_AUTH: false
    S4_ADMIN_API_KEY: s4_admin_key_1ecdaf19804e95d3
    S4_API_HOST: 0.0.0.0
    S4_API_PORT: 8080
    S4_CORS_ORIGINS: "*"
    S4_DEBUG: false
    S4_DATA_DIR: /var/app/current/data
    PYTHONPATH: /var/app/current

container_commands:
  01_create_data_dirs:
    command: "mkdir -p /var/app/current/data/indices /var/app/current/data/tenants /var/app/current/data/temp"
  02_initialize_service:
    command: "cd /var/app/current && python -m s4 init"
